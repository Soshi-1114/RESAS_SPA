(this["webpackJsonpresas-spa"]=this["webpackJsonpresas-spa"]||[]).push([[0],{17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),i=n(7),c=n.n(i),a=(n(17),n(10)),o=n(8),l=n(9),d=n(2),h=n(12),p=n(11),u=n(3),j=n.n(u),b=n(5),f=n.n(b),x=n(6),g=n.n(x),v=n(0),O=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={selected:Array(47).fill(!1),prefectures:{},series:[]},e._changeSelection=e._changeSelection.bind(Object(d.a)(e)),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://opendata.resas-portal.go.jp/api/v1/prefectures",{headers:{"X-API-KEY":"6euBMEmjVCfP3tyHLESG1wVt2WugeW7Qac6VRCoD"}}).then((function(e){return e.json()})).then((function(t){e.setState({prefectures:t.result})}))}},{key:"_changeSelection",value:function(e){var t=this,n=this.state.selected.slice();if(n[e]=!n[e],this.state.selected[e]){for(var s=this.state.series.slice(),r=0;r<s.length;r++)s[r].name===this.state.prefectures[e].prefName&&s.splice(r,1);this.setState({selected:n,series:s})}else fetch("https://opendata.resas-portal.go.jp/api/v1/population/composition/perYear?cityCode=-&prefCode=".concat(e+1),{headers:{"X-API-KEY":"6euBMEmjVCfP3tyHLESG1wVt2WugeW7Qac6VRCoD"}}).then((function(e){return e.json()})).then((function(s){var r=[];Object.keys(s.result.data[0].data).forEach((function(e){r.push(s.result.data[0].data[e].value)}));var i={name:t.state.prefectures[e].prefName,data:r};t.setState({selected:n,series:[].concat(Object(a.a)(t.state.series),[i])})}))}},{key:"renderItem",value:function(e){var t=this;return Object(v.jsxs)("div",{style:{margin:"5px",display:"inline-block"},children:[Object(v.jsx)("input",{type:"checkbox",checked:this.state.selected[e.prefCode-1],onChange:function(){return t._changeSelection(e.prefCode-1)}}),e.prefName]},e.prefCode)}},{key:"render",value:function(){var e=this,t=this.state.prefectures,n={title:{text:"\u9078\u629e\u3057\u305f\u90fd\u9053\u5e9c\u770c\u306e\u4eba\u53e3\u63a8\u79fb"},yAxis:{title:{text:"\u7dcf\u4eba\u53e3\uff08\u4eba\uff09"}},xAxis:{title:{text:"\u5e74\u5ea6\uff08\u5e74\uff09"}},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},plotOptions:{series:{label:{connectorAllowed:!1},pointInterval:5,pointStart:1965}},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]},series:this.state.series},s={textAlign:"center"},r={borderTop:"3px double #8c8b8b"};return Object(v.jsxs)("div",{children:[Object(v.jsxs)(g.a,{query:"(max-width: 767px)",children:[Object(v.jsx)("div",{style:{color:"#333333",padding:"0.5em 0",borderTop:"solid 3px #DDDDDD",borderBottom:"solid 3px #DDDDDD",textAlign:"center",fontSize:"6pt"},children:Object(v.jsx)("h1",{children:"\u90fd\u9053\u5e9c\u770c\u5225 \u7dcf\u4eba\u53e3\u63a8\u79fb\u30b0\u30e9\u30d5"})}),Object(v.jsx)("div",{style:s,children:Object.keys(t).map((function(n){return e.renderItem(t[n])}))}),Object(v.jsx)("hr",{style:r}),Object(v.jsx)("div",{children:Object(v.jsx)(f.a,{highcharts:j.a,options:n})})]}),Object(v.jsxs)(g.a,{query:"(min-width: 768px)",children:[Object(v.jsx)("div",{children:Object(v.jsx)("h1",{style:{color:"#333333",padding:"0.5em 0",borderTop:"solid 3px #DDDDDD",borderBottom:"solid 3px #DDDDDD",textAlign:"center",fontSize:"40pt"},children:"\u90fd\u9053\u5e9c\u770c\u5225\u3000\u7dcf\u4eba\u53e3\u63a8\u79fb\u30b0\u30e9\u30d5"})}),Object(v.jsx)("div",{style:s,children:Object.keys(t).map((function(n){return e.renderItem(t[n])}))}),Object(v.jsx)("hr",{style:r}),Object(v.jsx)("div",{children:Object(v.jsx)(f.a,{highcharts:j.a,options:n})})]})]})}}]),n}(s.Component),D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),i(e),c(e)}))};c.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(O,{})}),document.getElementById("root")),D()}},[[19,1,2]]]);
//# sourceMappingURL=main.734588fe.chunk.js.map